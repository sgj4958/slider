<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메인 페이지</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <style>
        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 0,
          'wght' 400,
          'GRAD' 0,
          'opsz' 24
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #slideWrap {
            position: relative;
            transition: .5s;
            display: flex;
            left: 0;
        }
        #slideWrap .slide {
            width: 400px;
            height: 150px;
        }
        #slider {
            width: 400px;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
        }
        #slider ul {
            list-style: none;
        }
        .arrow {
            position: absolute;
            z-index: 1;
            cursor: pointer;
            color: #fff;
        }
        #left {
            left: 5px;
            transform: rotate(270deg);
        }
        #right {
            right: 5px;
            transform: rotate(90deg);
        }
        .arrow.hide {
            display: none;
        }
        #slideWrap .slide:nth-child(1) {
            background: red;
        }
        #slideWrap .slide:nth-child(2) {
            background: orange;
        }
        #slideWrap .slide:nth-child(3) {
            background: yellow;
        }
        #slideWrap .slide:nth-child(4) {
            background: green;
        }
        #slideWrap .slide:nth-child(5) {
            background: blue;
        }
    </style>
</head>
<body>
    <div id="slider">
        <ul id="slideWrap">
            <li class="slide"></li>
            <li class="slide"></li>
            <li class="slide"></li>
            <li class="slide"></li>
            <li class="slide"></li>
        </ul>
        <i id="left" class="arrow">
            <span class="material-symbols-outlined">shift_lock</span>
        </i>
        <i id="right" class="arrow">
            <span class="material-symbols-outlined">shift_lock</span>
        </i>
    </div>
</body>
<script>
    const slideWidth = parseInt(getComputedStyle(document.querySelector("#slider .slide")).width)
    const slideLength = document.querySelectorAll("#slider .slide").length
    const slideWrap = document.querySelector("#slider #slideWrap")
    const maxSlideWidth = slideWidth * (slideLength - 1) * -1
    const minSlideWidth = 0
    
    const setArrowDisplay = () => {
        const nowLeft = parseInt(getComputedStyle(slideWrap).left)
        document.querySelectorAll(".arrow").forEach(element => element.classList.remove("hide"))
        if(nowLeft == maxSlideWidth) document.querySelector(".arrow#left").classList.add("hide")
        if(nowLeft == minSlideWidth) document.querySelector(".arrow#right").classList.add("hide")
    }

    setArrowDisplay()

    let isAnimationing = false
    document.querySelectorAll(".arrow").forEach(element => {
        element.addEventListener("click", () => {
            if(isAnimationing) return
            const nowLeft = parseInt(getComputedStyle(slideWrap).left)
            const leftArrow = element.id == "left"

            if(leftArrow && nowLeft <= maxSlideWidth) return alert("오른쪽 끝")
            if(!leftArrow && nowLeft >= 0) return alert("왼쪽 끝")

            isAnimationing = true
            slideWrap.style.left = nowLeft + parseInt(`${leftArrow ? `-` : `+`}${slideWidth}`) + "px"
        
            slideWrap.addEventListener("transitionend", () => {
                isAnimationing = false
                setArrowDisplay()
            })
        })
    })
</script>
</html>